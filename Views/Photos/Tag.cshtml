@model IEnumerable<Photo>


@{
	Layout = "_Layout";
	ViewData["Title"] = "Tìm kiếm hình ảnh | Qotos";
	var tags = ViewData["Tags"] as List<string>;
}

<div class="w-100 mt-5 pt-5">
	<ul class="nav nav-underline border-bottom px-3">
		<li class="nav-item">
			<a class="nav-link active" aria-current="page" asp-action="profile" asp-asp-controller="accounts"><i
					class="bi bi-image"></i> Ảnh
				@Model.Count()</a>
		</li>
		<li class="nav-item">
			<a class="nav-link text-secondary" asp-action="album" asp-asp-controller="accounts"><i class="bi bi-images">
				</i>Albums 0</a>
		</li>
		<li class="nav-item">
			<a class="nav-link text-secondary" asp-action="like" asp-asp-controller="accounts"><i
					class="bi bi-people-fill"></i>User 0</a>
		</li>
	</ul>
</div>


<div class="my-5 container">
	<h1>@ViewData["Key"]</h1>
</div>


<div class="d-flex flex-wrap container">
	@foreach (var tag in tags)
	{
		<a class="btn btn-outline-secondary me-2" href="/photos/tag/@tag">@tag</a>
	}
</div>

<div class="container my-5">
	<div class="row">
		@if (Model.Count() == 0)
		{
			<div class="text-center">
				<img src="https://unsplash-assets.imgix.net/empty-states/photos.png?auto=format&fit=crop&q=60" alt=""
					class="w-25">
			</div>
		}
		else
		{
			@foreach (var item in Model)
			{
				<div class="col-4 my-3">
					<div class="card">
						<a class="p-3 text-decoration-none link-dark" @* href="/accounts/&#64;@item.User.UserName/profile"*@>
							<img style="width: 32px; height: 32px; object-fit: cover" class="rounded-circle" @* src="@item.User.Thumbnail" *@ src="https://vienmoitruong5014.org.vn/wp-content/uploads/2023/03/anh-cho-boo-de-thuong_022907414.jpg"
								alt="" />
							<span class="fw-bold">@* @item.User.UserName *@Vũ Xuân Dự</span>
						</a>
						<img class="card-img-top btn-view" src="@item.Thumbnail" alt="Card image" style="cursor: zoom-in;"
							data-bs-toggle="modal" data-bs-target="#viewPictureModal" data-url="/photos/view/@item.Id" />
						<div class="card-body d-flex">
							@* @{
								var isLikedByCurrentUser = (userId != null) && item.Likes.Any(l => l.UserId == userId);
							} *@
							@* <button class="btn @(isLikedByCurrentUser?"btn-outline-danger":"btn-outline-secondary") me-2 btn-like"
								data-url="/photos/like/@item.Id">
								<i class="bi bi-heart-fill"></i>
							</button> *@
							<button class="btn btn-outline-secondary") me-2 btn-like"
								 data-url="/photos/like/@item.Id">
								<i class="bi bi-heart-fill"></i>
							</button>
							<button class="btn btn-outline-secondary me-auto btn-collection" data-url="@item.Id"><i
									class="bi bi-plus-square"></i></button>
							<button class="btn btn-outline-secondary btn-download" data-url="/photos/download/@item.Id"><i
									class="bi bi-download"></i> Download</button>
						</div>
					</div>
				</div>
			}
		}
	</div>
</div>